<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Kafka - Hello Koding - Practical Coding Courses, Tutorials and Examples]]></title><description><![CDATA[Practical coding courses, tutorials and examples series of Data Structure, Algorithm Interview Questions, Spring, Java, JPA/Hibernate and REST API]]></description><link>http://hellokoding.com/</link><generator>Ghost 0.9</generator><lastBuildDate>Thu, 19 Sep 2019 13:35:28 GMT</lastBuildDate><atom:link href="http://hellokoding.com/tag/kafka/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Streaming Data from Kafka to Postgres with Kafka Connect, AVRO, Schema Registry and Python]]></title><description><![CDATA[<p>This post walks you through the process of Streaming Data from Kafka to Postgres with Kafka Connect AVRO, Schema Registry and Python.</p>

<h3 id="whatyoullneed">What you'll need</h3>

<ul>
<li><a href="https://www.confluent.io/download/">Confluent OSS</a></li>
<li><a href="https://github.com/confluentinc/confluent-cli">Confluent CLI</a></li>
<li><a href="https://www.python.org/downloads/">Python</a> and <a href="https://github.com/pypa/pipenv">pipenv</a></li>
<li><a href="https://docs.docker.com/compose/install/">Docker Compose</a></li>
</ul>

<h3 id="stack">Stack</h3>

<ul>
<li>Python 3</li>
<li>Pipenv</li>
<li>Flake8</li>
<li>Docker Compose</li>
<li>Postgres</li>
<li>Kafka</li>
<li>Kafka Connect</li>
<li>AVRO</li>
<li>Confluent Schema Registry</li>
</ul>

<h3 id="projectstructure">Project</h3>]]></description><link>http://hellokoding.com/kafka-connect-sinks-data-to-postgres-example-with-avro-schema-registry-and-python/</link><guid isPermaLink="false">ffd27f54-1983-4e32-af80-da9543c18658</guid><category><![CDATA[Kafka]]></category><dc:creator><![CDATA[Giau Ngo]]></dc:creator><pubDate>Sun, 10 Jun 2018 11:46:14 GMT</pubDate><media:content url="http://hellokoding.com/content/images/2019/01/kafka-tutorials.png" medium="image"/><content:encoded><![CDATA[<img src="http://hellokoding.com/content/images/2019/01/kafka-tutorials.png" alt="Streaming Data from Kafka to Postgres with Kafka Connect, AVRO, Schema Registry and Python"><p>This post walks you through the process of Streaming Data from Kafka to Postgres with Kafka Connect AVRO, Schema Registry and Python.</p>

<h3 id="whatyoullneed">What you'll need</h3>

<ul>
<li><a href="https://www.confluent.io/download/">Confluent OSS</a></li>
<li><a href="https://github.com/confluentinc/confluent-cli">Confluent CLI</a></li>
<li><a href="https://www.python.org/downloads/">Python</a> and <a href="https://github.com/pypa/pipenv">pipenv</a></li>
<li><a href="https://docs.docker.com/compose/install/">Docker Compose</a></li>
</ul>

<h3 id="stack">Stack</h3>

<ul>
<li>Python 3</li>
<li>Pipenv</li>
<li>Flake8</li>
<li>Docker Compose</li>
<li>Postgres</li>
<li>Kafka</li>
<li>Kafka Connect</li>
<li>AVRO</li>
<li>Confluent Schema Registry</li>
</ul>

<h3 id="projectstructure">Project structure</h3>

<pre><code>├── Pipfile
├── Pipfile.lock
├── avro_producer.py
├── docker-compose.yml
├── setup.cfg
└── sink-postgres.json
</code></pre>

<h3 id="projectdependencies">Project dependencies</h3>

<pre><code class="language-json embedfile-https://github.com/hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python/blob/master/Pipfile">
</code></pre>

<h3 id="kafkaavroproducer">Kafka AVRO Producer</h3>

<pre><code class="language-python embedfile-https://github.com/hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python/blob/master/avro_producer.py">
</code></pre>

<h3 id="kafkaconnectsinkpostgresconfig">Kafka Connect Sink Postgres Config</h3>

<pre><code class="language-json embedfile-https://github.com/hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python/blob/master/sink-postgres.json">
</code></pre>

<h3 id="dockercompose">Docker Compose</h3>

<pre><code class="language-json embedfile-https://github.com/hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python/blob/master/docker-compose.yml">
</code></pre>

<h3 id="letsstart">Let's Start</h3>

<h4 id="startconfluentplatform">Start Confluent Platform</h4>

<pre><code>confluent start
</code></pre>

<p>You would see this</p>

<pre><code>connect is [UP]  
kafka-rest is [UP]  
schema-registry is [UP]  
kafka is [UP]  
zookeeper is [UP]
</code></pre>

<p>ZooKeeper, Kafka, Schema Registry and Kafka Connect should be start listening connections on port 2181, 9092, 8081, 8083 respectively.</p>

<h4 id="startpostgresqldatabase">Start PostgreSQL Database</h4>

<pre><code>docker-compose up
</code></pre>

<p>PostgreSQL Database Server should be start listening connections on port 5432</p>

<h4 id="installprojectsdependencies">Install project's dependencies</h4>

<pre><code>pipenv install  
pipenv shell
</code></pre>

<h4 id="sendingdatatokafkatopicwithavroproducer">Sending data to Kafka topic with AVRO Producer</h4>

<pre><code>python avro_producer.py
</code></pre>

<h4 id="loadkafkaconnector">Load Kafka Connector</h4>

<pre><code>confluent load sink-1 -d sink-postgres.json
</code></pre>

<p>Postgres should have a table <code>page_1</code> with data streaming from the consumer.</p>

<h3 id="sourcecode">Source code</h3>

<p><code>git@github.com:hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python.git</code></p>

<p><a href="https://github.com/hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python">https://github.com/hellokoding/kafka-connect-sink-postgres-with-avro-schemaregistry-python</a></p>]]></content:encoded></item></channel></rss>